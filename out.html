<html><body bgcolor="black"><font color="grey">//&nbsp;[_SHA1&nbsp;hashes_](http://en.wikipedia.org/wiki/SHA-1)&nbsp;are<br></font><font color="grey">//&nbsp;frequently&nbsp;used&nbsp;to&nbsp;compute&nbsp;short&nbsp;identities&nbsp;for&nbsp;binary<br></font><font color="grey">//&nbsp;or&nbsp;text&nbsp;blobs.&nbsp;For&nbsp;example,&nbsp;the&nbsp;[git&nbsp;revision&nbsp;control<br></font><font color="grey">//&nbsp;system](http://git-scm.com/)&nbsp;uses&nbsp;SHA1s&nbsp;extensively&nbsp;to<br></font><font color="grey">//&nbsp;identify&nbsp;versioned&nbsp;files&nbsp;and&nbsp;directories.&nbsp;Here's&nbsp;how&nbsp;to<br></font><font color="grey">//&nbsp;compute&nbsp;SHA1&nbsp;hashes&nbsp;in&nbsp;Go.<br></font><br><font color="blue">package</font>&nbsp;<font color="white">main</font><br><br><font color="grey">//&nbsp;Go&nbsp;implements&nbsp;several&nbsp;hash&nbsp;functions&nbsp;in&nbsp;various<br></font><font color="grey">//&nbsp;`crypto/*`&nbsp;packages.<br></font><font color="blue">import</font>&nbsp;<font color="green">"crypto/sha1"</font><br><font color="blue">import</font>&nbsp;<font color="green">"fmt"</font><br><br><font color="blue">func</font>&nbsp;<font color="white">main</font><font color="violet">(</font><font color="violet">)</font>&nbsp;<font color="violet">{</font><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color="white">s</font>&nbsp;<font color="violet">:=</font>&nbsp;<font color="green">"sha1 this string"</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;The&nbsp;pattern&nbsp;for&nbsp;generating&nbsp;a&nbsp;hash&nbsp;is&nbsp;`sha1.New()`,<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;`sha1.Write(bytes)`,&nbsp;then&nbsp;`sha1.Sum([]byte{})`.<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;Here&nbsp;we&nbsp;start&nbsp;with&nbsp;a&nbsp;new&nbsp;hash.<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="white">h</font>&nbsp;<font color="violet">:=</font>&nbsp;<font color="white">sha1</font><font color="violet">.</font><font color="white">New</font><font color="violet">(</font><font color="violet">)</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;`Write`&nbsp;expects&nbsp;bytes.&nbsp;If&nbsp;you&nbsp;have&nbsp;a&nbsp;string&nbsp;`s`,<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;use&nbsp;`[]byte(s)`&nbsp;to&nbsp;coerce&nbsp;it&nbsp;to&nbsp;bytes.<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="white">h</font><font color="violet">.</font><font color="white">Write</font><font color="violet">(</font><font color="violet">[</font><font color="violet">]</font><font color="white">byte</font><font color="violet">(</font><font color="white">s</font><font color="violet">)</font><font color="violet">)</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;This&nbsp;gets&nbsp;the&nbsp;finalized&nbsp;hash&nbsp;result&nbsp;as&nbsp;a&nbsp;byte<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;slice.&nbsp;The&nbsp;argument&nbsp;to&nbsp;`Sum`&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;append<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;to&nbsp;an&nbsp;existing&nbsp;byte&nbsp;slice:&nbsp;it&nbsp;usually&nbsp;isn't&nbsp;needed.<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="white">bs</font>&nbsp;<font color="violet">:=</font>&nbsp;<font color="white">h</font><font color="violet">.</font><font color="white">Sum</font><font color="violet">(</font><font color="white">nil</font><font color="violet">)</font><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;SHA1&nbsp;values&nbsp;are&nbsp;often&nbsp;printed&nbsp;in&nbsp;hex,&nbsp;for&nbsp;example<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;in&nbsp;git&nbsp;commits.&nbsp;Use&nbsp;the&nbsp;`%x`&nbsp;format&nbsp;verb&nbsp;to&nbsp;convert<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="grey">//&nbsp;a&nbsp;hash&nbsp;results&nbsp;to&nbsp;a&nbsp;hex&nbsp;string.<br></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="white">fmt</font><font color="violet">.</font><font color="white">Println</font><font color="violet">(</font><font color="white">s</font><font color="violet">)</font><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color="white">fmt</font><font color="violet">.</font><font color="white">Printf</font><font color="violet">(</font><font color="green">"%x\n"</font><font color="violet">,</font>&nbsp;<font color="white">bs</font><font color="violet">)</font><br><font color="violet">}</font></body></html>